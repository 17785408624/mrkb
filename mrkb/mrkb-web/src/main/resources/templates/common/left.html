<html xmlns:th="http://www.thymeleaf.org">
<head>
<div th:replace="common/common :: common_resource"></div>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<link href="../../css/style.css" th:href="@{/css/style.css}" media="all" rel="stylesheet"/>
</head>

<body style="background:#f0f9fd;">
	
<!-- 	<div class="lefttop"><span></span>通讯录</div> -->
    <dl class="leftmenu" id="leftmenu">
	    <!-- <dd>
	    <div class="title">
	    <span><img alt="" th:src="@{/images/leftico01.png}"></span>管理信息
	    </div>
	    	<ul class="menuson">
	        <li><cite></cite><a href="index.html" target="rightFrame">首页模版</a><i></i></li>
	        <li><cite></cite><a href="right.html" target="rightFrame">数据列表</a><i></i></li>
	        <li><cite></cite><a href="imgtable.html" target="rightFrame">图片数据表</a><i></i></li>
	        <li><cite></cite><a href="form.html" target="rightFrame">添加编辑</a><i></i></li>
	        <li><cite></cite><a href="imglist.html" target="rightFrame">图片列表</a><i></i></li>
	        <li><cite></cite><a href="imglist1.html" target="rightFrame">自定义</a><i></i></li>
	        <li><cite></cite><a href="tools.html" target="rightFrame">常用工具</a><i></i></li>
	        <li><cite></cite><a href="filelist.html" target="rightFrame">信息管理</a><i></i></li>
	        <li><cite></cite><a href="tab.html" target="rightFrame">Tab页</a><i></i></li>
	        <li><cite></cite><a href="error.html" target="rightFrame">404页面</a><i></i></li>
	        </ul>    
	    </dd> -->
	    <dd><div class="title"><span><img alt="" th:src="@{/images/leftico04.png}"></span>模板</div>
	    <ul class="menuson">
	        <li><cite></cite><a th:href="@{/vue/showVueTestPage}" target="rightFrame">Vue测试模板</a><i></i></li>
	        <li><cite></cite><a th:href="@{/vue/jqgrid}" target="rightFrame">jqgrid测试模板</a><i></i></li>
	    </ul>
	    </dd>      
    </dl>
<script type="text/javascript">
	$(function(){
		$("#leftmenu").html("");
		//获取用户菜单列表数据
		$.ajax({
			url:basePath+"/sysMenu/sysMenuTree",
			type:"get",
			success:function(r){
				generateMenu(r);
			},
			error:function(r){
				window.parent.location.href=basePath+'/admin/login';
			}
		});
	})
	//生成菜单
	function generateMenu(data){
		var html="";
	    	for(var i=0;i<data.data.length;i++){
	    		html+="<dd>";
	    		var nodedata=data.data[i].menuelist;
	    		html+="<div class='title1' >";
   				html+="<span><img src=\"../img/menuicon/"+data.data[i].icon+".png\" width=\"20\" height=\"20\"></span>"+data.data[i].name+"</div>";
   				html+="<ul class='menuson'>";
    			for(var j=0;j<nodedata.length;j++){
        			html+="<li><cite><img src=\"../img/menuicon/"+nodedata[j].icon+".png\" width=\"20\" height=\"20\"></cite><a href=\""+basePath+nodedata[j].url+"\" target=\"rightFrame\">"+nodedata[j].name+"</a><i></i></li>";
    			}
    			html+="</ul>"; 
				html+="</dd>"; 
	    	}
	    $("#leftmenu").html(html);
	    //导航切换
		$(".menuson li").click(function(){
			$(".menuson li.active").removeClass("active")
			$(this).addClass("active");
		});
	    $('.title1').click(function(){
			var $ul = $(this).next('ul');
			$('dd').find('ul').slideUp();
			if($ul.is(':visible')){
				$(this).next('ul').slideUp();
			}else{
				$(this).next('ul').slideDown();
			} 
		});
	}
	
</script>
</body>
</div>
</html>
