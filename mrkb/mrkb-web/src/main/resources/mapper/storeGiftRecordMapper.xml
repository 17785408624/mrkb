<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mrkb.dao.dao.StoreGiftRecordMapper">
 <!-- 新增课程赠送记录表 -->
 <insert id="addStoreGiftRecord" parameterType="com.mrkb.dao.modle.store.StoreGiftRecordEntity" useGeneratedKeys="true" keyProperty="gift_record_id" >
  insert into store_gift_record
		(user_basics_id,gift_user_id,gift_date,store_id) 
		value(
		 #{user_basics_id,jdbcType=INTEGER}
		,#{gift_user_id,jdbcType=INTEGER}
		,#{gift_date,jdbcType=BIGINT}
		,#{store_id,jdbcType=INTEGER}
		);
 </insert>
 <!-- 查询赠送记录 与被赠送记录-->
 <select id="findStoreGiftRecord" resultType="com.mrkb.dao.modle.store.StoreGiftRecordEntity" parameterType="com.mrkb.dao.modle.store.StoreGiftRecordEntity">
	select * from  store_gift_record  where 1=1 
	 <if test="user_basics_id!=null">
	  and user_basics_id = #{user_basics_id,jdbcType=INTEGER} 
	 </if>
	 <if test="gift_user_id!=null">
	  and  gift_user_id = #{gift_user_id,jdbcType=INTEGER} 
	 </if>
	 <if test="gift_record_id!=null">
	  and  gift_record_id = #{gift_record_id,jdbcType=INTEGER} 
	 </if>
	 order by gift_date DESC 
</select>
 <!-- 查询赠送记录 与被赠送记录-->
 <select id="findStoreGiftRecordById" resultType="com.mrkb.dao.modle.store.StoreGiftRecordEntity" parameterType="com.mrkb.dao.modle.store.StoreGiftRecordEntity">
	select * from  store_gift_record  where 1=1 
	 <if test="gift_record_id!=null">
	  and  gift_record_id = #{gift_record_id,jdbcType=INTEGER} 
	 </if>
</select>
</mapper>
