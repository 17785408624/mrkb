<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mrkb.dao.dao.UserConsultServiceMapper">
    <!-- 新增用户乐唐顾问及高级经理 -->
    <insert id="addUserConsultService" parameterType="com.mrkb.dao.modle.user.UserConsultServiceEntity"
            useGeneratedKeys="true" keyProperty="consult_service_id">
		insert into user_consult_service
		(user_basics_id,advisor_user_basics_id,seniorManager_user_basics_id,consult_picture,
		consult_view,senior_manager_name,senior_manager_phone)
		value(
		#{user_basics_id,jdbcType=INTEGER}
		,#{advisor_user_basics_id,jdbcType=INTEGER}
		,#{seniorManager_user_basics_id,jdbcType=INTEGER}
		,#{consult_picture,jdbcType=VARCHAR}
		,#{consult_view,jdbcType=VARCHAR}
		,#{senior_manager_name,jdbcType=VARCHAR}
		,#{senior_manager_phone,jdbcType=VARCHAR}
		);
	</insert>
    <!-- 查询所有用户对应的乐唐顾问及高级经理 -->
    <select id="findAllUserConsultService" resultType="com.mrkb.dao.modle.user.UserConsultServiceEntity"
            parameterType="com.mrkb.dao.modle.user.UserConsultServiceEntity">
		select * from user_consult_service where 1=1
	</select>
    <!-- 查询单个我的顾问信息 -->
    <select id="findUserConsultserviceById" resultType="com.mrkb.dao.modle.user.UserConsultServiceEntity"
            parameterType="com.mrkb.dao.modle.user.UserConsultServiceEntity">
		select * from user_consult_service where 1=1
		and
		user_basics_id =#{user_basics_id,jdbcType=INTEGER}
	</select>
    <!-- 修改单个我的顾问信息 -->
    <update id="updateUserConsultservice" parameterType="com.mrkb.dao.modle.user.UserConsultServiceEntity">
        update user_consult_service set
        <trim suffixOverrides=",">
            <if test="advisor_user_basics_id!=null">
                advisor_user_basics_id=#{advisor_user_basics_id,jdbcType=INTEGER},
            </if>
            <if test="seniorManager_user_basics_id!=null">
                seniorManager_user_basics_id=#{seniorManager_user_basics_id,jdbcType=VARCHAR},
            </if>
            <if test="consult_picture!=null">
                consult_picture=#{consult_picture,jdbcType=VARCHAR},
            </if>
            <if test="consult_view!=null">
                consult_view=#{consult_view,jdbcType=VARCHAR},
            </if>
            <if test="senior_manager_name!=null">
                senior_manager_name=#{senior_manager_name,jdbcType=VARCHAR},
            </if>
            <if test="senior_manager_phone!=null">
                senior_manager_phone=#{senior_manager_phone,jdbcType=VARCHAR},
            </if>
        </trim>
        where user_basics_id=#{user_basics_id,jdbcType=INTEGER}
    </update>

    <!-- 删除协议(物理删除) -->
    <!-- <delete id="deleteProtocols" parameterType="com.mrkb.dao.modle.protocol.ProtocolEntity"
        > delete from protocol where protocol_id=#{protocol_id,jdbcType=INTEGER}
        ; </delete> -->
    <!-- 协议审核 -->
    <!-- <update id="updateProtocolState" parameterType="com.mrkb.dao.modle.protocol.ProtocolEntity">
        update protocol set <if test="status_state!=null"> status_state=#{status_state,jdbcType=INTEGER}
        </if> where 1=1 and protocol_id = #{protocol_id,jdbcType=INTEGER} </update> -->
    <!-- 删除协议(逻辑删除) -->
    <!-- <update id="deleteProtocol" parameterType="com.mrkb.dao.modle.protocol.ProtocolEntity">
        update protocol set status_state=3 where protocol_id=#{protocol_id,jdbcType=INTEGER};
        </update> -->
</mapper>