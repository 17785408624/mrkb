<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mrkb.dao.dao.ClassTimeNodesMapper">

	<sql id="Base_Column_List">
		class_node_id, class_beagain_time, enroll_end_time,store_id,address,times,creat_time,person_num,retraining_num,retraining_price
	</sql>
	
	
	<!-- 查询集合 -->
	<select id="findList" parameterType="java.util.HashMap" resultType="com.mrkb.dao.modle.nodes.ClassTimeNodes">
		select
		a.class_node_id, a.class_beagain_time, a.enroll_end_time,a.store_id,
		a.address,a.times,a.creat_time,a.person_num,b.store_name,b.tutor_name,a.retraining_num,a.retraining_price
		from class_time_nodes a,store_basics b where a.store_id=b.store_id
		<where>
			<if test="store_id != null">
				and a.store_id =#{store_id}
			</if>
		</where>
		ORDER BY creat_time DESC
	</select>
	
	
	<!-- 查询单个 -->
	<select id="get" parameterType="java.lang.Integer" resultType="com.mrkb.dao.modle.nodes.ClassTimeNodes">
		select
		<include refid="Base_Column_List"/>
		from class_time_nodes
		where class_node_id=#{class_node_id}
	</select>
	
	
	
	<!-- 删除 -->
	<delete id="delete" parameterType="java.lang.Integer">
		delete from class_time_nodes where class_node_id=#{class_node_id}
	</delete>
	
	
	
	<!-- 更新 -->
	<update id="update" parameterType="com.mrkb.dao.modle.nodes.ClassTimeNodes">
		update class_time_nodes
		<set>
			<if test="class_beagain_time != null">class_beagain_time=#{class_beagain_time},</if>
			<if test="enroll_end_time != null">enroll_end_time=#{enroll_end_time},</if>
			<if test="store_id != null">store_id=#{store_id},</if>
			<if test="address != null">address=#{address},</if>
			<if test="times != null">times=#{times},</if>
			<if test="person_num != null">person_num=#{person_num}</if>
			<if test="retraining_num != null">retraining_num=#{retraining_num}</if>
			<if test="retraining_price != null">retraining_price=#{retraining_price}</if>
		</set>
		where class_node_id=#{class_node_id}
	</update>
	
	
	
	<!--新增 -->
	<insert id="insert" parameterType="com.mrkb.dao.modle.nodes.ClassTimeNodes">
		insert into class_time_nodes(
			class_beagain_time, enroll_end_time,store_id,address,times,creat_time,person_num,retraining_num,retraining_price
		)values(
			#{class_beagain_time},
			#{enroll_end_time},
			#{store_id},
			#{address},
			#{times},
			#{creat_time},
			#{person_num},
			#{retraining_num},
			#{retraining_price}
		)
	</insert>
	
	
</mapper>
